kafka:
  url: "localhost:9092"
  batchSize: 250000
  lingerMs: 5
  topics:
  - name: "STATUS-REPORT"
    client_id_config: "sometext"
    serializer:
      key: "org.apache.kafka.common.serialization.StringSerializer"
      value: "com.mikerusoft.kafka.injector.core.kafka.JsonSerializer"
    keyGenerator:
      type: "com.mikerusoft.kafka.injector.core.generate.model.SingleRootGenerator"
      fields:
        - name: "does_not_matter"
          type: "regex"
          cast: "java.lang.String"
          value: "[1-9][0-9]{7,7}"
    valueGenerators:
    - type: "com.mikerusoft.kafka.injector.examples.model.ArchiveStatusReportRequestGenerator"
      fields:
      - name: "setKafkafied"
        type: "fixed"
        cast: "java.lang.Boolean"
        value: "true"
      - name: "setRequests"
        type: "nested_list"
        cast: "java.util.List"
        nestedFields:
          - name: ""
            type: "nested_object"
            cast: "com.mikerusoft.kafka.injector.examples.model.beans.ArchiveStatusReportRequestBuilder"
            nestedFields:
              - name: "setNetworkType"
                type: "list"
                cast: "java.lang.String"
                value: "TELEMESSAGE,USCC,ANDROID_ARCHIVER,WHATSAPP_ARCHIVER"
              - name: "setSourceType"
                type: "list"
                cast: "java.lang.String"
                value: "MESSAGING_APPS,WIRELESS_COPY"
              - name: "setStorage"
                type: "list"
                cast: "java.lang.String"
                value: "GLOBAL_RELAY,ERADO"
              - name: "setExtraStorageParams"
                type: "nested_list"
                cast: "java.util.List"
                nestedFields:
                  - name: ""
                    type: "nested_object"
                    cast: "com.mikerusoft.kafka.injector.core.utils.Pair"
                    nestedFields:
                      - name: "setKey"
                        cast: "java.lang.String"
                        type: "fixed"
                        value: "EMAIL"
                      - name: "setValue"
                        cast: "java.lang.String"
                        type: "fixed"
                        value: "stam@email.localhost"
              - name: "setOwner"
                type: "nested_object"
                cast: "com.mikerusoft.kafka.injector.examples.model.beans.RegArchiveUser"
                nestedFields:
                  - name: "setId"
                    type: "regex"
                    cast: "java.lang.Long"
                    value: "[1-9][0-9]{7,7}"
                  - name: "setFirstName"
                    type: "regex"
                    cast: "java.lang.String"
                    value: "[a-bA-B]{5,10}"
                  - name: "setLastName"
                    type: "regex"
                    cast: "java.lang.String"
                    value: "[a-bA-B]{5,10}"
                  - name: "setDevices"
                    type: "nested_list"
                    cast: "java.util.List"
                    nestedFields:
                      - name: ""
                        type: "nested_object"
                        cast: "com.mikerusoft.kafka.injector.examples.model.beans.NormalizedDevice"
                        nestedFields:
                          - name: "setValue"
                            type: "regex"
                            cast: "java.lang.String"
                            value: "9725[0-9][0-9]{7,7}"
                          - name: "setType"
                            type: "fixed"
                            cast: "java.lang.String"
                            value: "PHONE"
              - name: "setReportData"
                type: "nested_object"
                cast: "com.mikerusoft.kafka.injector.examples.model.beans.ReportData"
                nestedFields:
                  - name: "setReportStatus"
                    type: "nested_object"
                    cast: "com.mikerusoft.kafka.injector.examples.model.beans.ReportStatus"
                    nestedFields:
                      - name: "setStatus"
                        type: "list"
                        cast: "java.lang.String"
                        value: "DELIVERED,SUCCESS"
                      - name: "setDescription"
                        type: "list"
                        cast: "java.lang.String"
                        value: "DELIVERED,SUCCESS"
                      - name: "setFlags"
                        type: "nested_list"
                        cast: "java.util.List"
                        nestedFields:
                          - name: ""
                            type: "list"
                            cast: "java.lang.String"
                            value: "CHARGEABLE,FINAL,DR"
                  - name: "setSenderFormattedValue"
                    type: "fixed"
                    cast: "java.lang.String"
                    value: "stam@email.com"
                  - name: "setRecipientsFormattedValue"
                    type: "nested_list"
                    cast: "java.util.List"
                    nestedFields:
                      - name: ""
                        type: "regex"
                        cast: "java.lang.String"
                        value: "9725[0-9][0-9]{7,7}"
              - name: "setArchiveRawMessageForReport"
                type: "nested_object"
                cast: "com.mikerusoft.kafka.injector.examples.model.beans.ArchiveRawMessageForReport"
                nestedFields:
                  - name: "setMessageId"
                    cast: "java.lang.String"
                    type: "regex"
                    value: "tm-[0-9]{8,8}"
                  - name: "setMessageType"
                    cast: "java.lang.String"
                    type: "fixed"
                    value: "SMS"
                  - name: "setDirection"
                    cast: "java.lang.String"
                    type: "fixed"
                    value: "IN"
                  - name: "setMessageStatus"
                    cast: "java.lang.String"
                    type: "list"
                    value: "SUCCESS,FAILED,OK,MISSED_CALL,FAILED_CALL,VOICE_MAIL,REJECTED_CALL,BUSY_CALL,BLOCKED_CALL,ANSWERED_EXTERNALLY,DELETED_UNREAD,DELETED_READ"
                  - name: "setOwner"
                    type: "nested_object"
                    cast: "com.mikerusoft.kafka.injector.examples.model.beans.NormalizedDevice"
                    nestedFields:
                      - name: "setValue"
                        type: "regex"
                        cast: "java.lang.String"
                        value: "9725[0-9][0-9]{7,7}"
                      - name: "setType"
                        type: "fixed"
                        cast: "java.lang.String"
                        value: "PHONE"
                  - name: "setSender"
                    type: "nested_object"
                    cast: "com.mikerusoft.kafka.injector.examples.model.beans.NormalizedDevice"
                    nestedFields:
                      - name: "setValue"
                        type: "regex"
                        cast: "java.lang.String"
                        value: "9725[0-9][0-9]{7,7}"
                      - name: "setType"
                        type: "fixed"
                        cast: "java.lang.String"
                        value: "PHONE"
                  - name: "setRecipients"
                    type: "nested_list"
                    cast: "java.util.List"
                    nestedFields:
                      - name: ""
                        type: "nested_object"
                        cast: "com.mikerusoft.kafka.injector.examples.model.beans.NormalizedDevice"
                        nestedFields:
                          - name: "setValue"
                            type: "regex"
                            cast: "java.lang.String"
                            value: "9725[0-9][0-9]{7,7}"
                          - name: "setType"
                            type: "fixed"
                            cast: "java.lang.String"
                            value: "PHONE"
      delayAfter: 0
      interval: 10
      #takeWhile: 3000